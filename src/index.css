@tailwind base;
@tailwind components;
@tailwind utilities;

/* CSS Variables */
:root {
  --header-height: 80px; /* legacy, mantener por compatibilidad */
  --nav-h: 72px; /* altura base del navbar */
  --z-header: 50;
  --z-dropdown: 60;
  --z-modal: 9999;
  /* Single font family with metric fallback to reduce CLS */
  font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Apple Color Emoji", "Segoe UI Emoji";
  font-size-adjust: 0.525;
}

@media (min-width: 1024px) {
  :root {
    --nav-h: 80px; /* navbar un poco más alto en desktop */
  }
}

/* Base styles */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: inherit; /* Inter from :root */
  font-weight: 400;
  line-height: 1.6;
  color: #333;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  max-width: 100%;
  overflow-x: hidden;
}

html {
  width: 100%;
  max-width: 100%;
  overflow-x: hidden;
}

/* Prevent horizontal overflow from media elements */
img, video, svg, canvas, iframe {
  max-width: 100%;
  height: auto;
  display: block;
}

/* Utility to clamp any container to viewport width without causing 100vw scrollbar issue */
.vw-safe {
  max-width: 100%;
  overflow-x: hidden;
}

/* Debug helper (paste in console to find overflow offenders):
Array.from(document.querySelectorAll('*')).filter(el => el.scrollWidth > el.clientWidth).slice(0,20)
*/

/* Use single font everywhere to avoid multi-font swap CLS */
h1, h2, h3, h4, h5, h6, p, span, div, label, button, input, select, textarea, a, header, header * {
  font-family: inherit;
  font-weight: 400;
}

/* Elementos que necesitan más peso */
.font-normal {
  font-weight: 400 !important;
}

.font-medium {
  font-weight: 500 !important;
}

.font-semibold {
  font-weight: 600 !important;
}

.font-bold {
  font-weight: 700 !important;
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: #f1f1f1;
}

::-webkit-scrollbar-thumb {
  background: #c1c1c1;
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: #a8a8a8;
}

/* Utility classes */
/* Remove legacy specific font utilities now that only Inter is used */
.font-cormorant { font-family: inherit; }

/* Performance utilities */
/* content-visibility without generic intrinsic size; real sizing handled by sizer classes */
.cv-auto { content-visibility: auto; }

/* Sizer classes provide realistic intrinsic height estimates to mitigate CLS */
.section-sizer { contain-intrinsic-size: auto 1600px; }
.gallery-sizer { contain-intrinsic-size: auto 900px; }

/* Hero svh utilities para evitar saltos por barras de navegador móviles */
.hero-minh { min-height: 65svh; }
@media (min-width: 768px) { .hero-minh { min-height: 75svh; } }
@media (min-width: 1024px) { .hero-minh { min-height: 85svh; } }

/* Legacy font utility aliases now map to Inter */
.font-lato, .font-lato-regular, .font-lora { font-family: inherit; }

/* Override any default system fonts */
/* Heading size utilities inherit Inter */
.text-sm, .text-base, .text-lg, .text-xl, .text-2xl, .text-3xl, .text-4xl, .text-5xl, .text-6xl { font-family: inherit; font-weight: 400; }

/* Ajustes específicos para mejor legibilidad con Lato Regular */
h2 { font-weight: 500; letter-spacing: -0.02em; }
h3, h4 { font-weight: 500; }

/* Texto pequeño mantiene peso regular */
.text-xs, .text-sm {
  font-weight: 400; /* Regular para texto pequeño */
}

/* Botones con peso regular */
button {
  font-weight: 400;
}

/* Asegurar que el header mantenga Lora */
.header-text {
  font-family: 'Lora', serif;
  font-weight: 400;
}

/* Elementos que necesitan ser más visibles */
strong, b {
  font-weight: 700;
}

/* Links y elementos importantes */
a {
  font-weight: 400;
}

/* Navegación del header usa Lora */
header nav a { font-family: inherit; font-weight: 400; }

/* Formularios */
input, select, textarea {
  font-weight: 400;
}

/* Labels */
label {
  font-weight: 400;
}

/* Para elementos del header que no son navegación, mantener Lato */
header button, header input, header select { font-family: inherit; font-weight: 400; }