## Media files served directly by Nginx
# Maps URL /media/* to the host directory that is volume-mounted from the container /app/media
# Ensure Dockerrun.aws.json maps /var/app/current/media <-> /app/media

location /media/ {
    proxy_pass http://127.0.0.1:5000;  # Gunicorn listens on container port
    proxy_set_header Host $host;
    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    proxy_set_header X-Forwarded-Proto $scheme;
    expires 30d;
    add_header Cache-Control "public, max-age=2592000";
}