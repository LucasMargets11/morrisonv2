##
# Global proxy & upload tuning for Elastic Beanstalk Nginx front.
# Consolidated here to avoid overlapping directives across multiple snippet files.
##

gzip on;                       # Basic compression
client_max_body_size 500M;      # Allow larger media uploads (adjust if needed)

# Generous timeouts for large file uploads / slow clients (default EB is lower)
proxy_connect_timeout 120s;
proxy_send_timeout 300s;
proxy_read_timeout 300s;
send_timeout 300s;

# If you see types_hash related warnings, 02_typeshash.conf already sets the values.
# Keep buffering defaults unless memory pressure analysis suggests otherwise.
# proxy_buffering on;
# proxy_buffers 16 16k;
# proxy_buffer_size 32k;
